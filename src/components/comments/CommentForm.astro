---
---

<form class="mb-6">
  <div class="mb-4">
    <label for="name" class="block text-sm font-medium text-gray-700"
      >Name</label
    >
    <input
      type="text"
      id="name"
      name="name"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
      required
    />
  </div>
  <div class="mb-4">
    <label for="comment" class="block text-sm font-medium text-gray-700"
      >Comment</label
    >
    <textarea
      id="comment"
      name="comment"
      rows="4"
      class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
      required></textarea>
  </div>
  <button
    type="submit"
    class="inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
  >
    Submit
  </button>
</form>

<script>
  document.querySelector("form")?.addEventListener("submit", (e) => {
    e.preventDefault();
    const form = e.target as HTMLFormElement;
    const formData = new FormData(form);
    const name = formData.get("name") as string;
    const comment = formData.get("comment") as string;

    if (name && comment) {
      const event = new CustomEvent("new-comment", {
        bubbles: true,
        detail: { author: name, content: comment, date: new Date() },
      });
      form.dispatchEvent(event);
      form.reset();
    }
  });
</script>